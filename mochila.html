<!DOCTYPE html>
<html>
	<head>
	<meta charset="UTF-8">
	<title>ALGORITMO DE LA MOCHILA</title>
	</head>
	
	<script>
		
		/*alert(matriz[0][0]);
			/*
			for(i=1;i<columna;i++){
				for(j=1;j<fila;j++){
					/*
					valor1 = matriz[parseInt(i-1)][j];
					alert("valor1= "+valor1);
					a = arr1[i];
					b =arr2[i];
					pos = matriz[parseInt(i-1)][parseInt(j-a)];
					if(pos<0){
						return matriz[i][j];
					}
					valor2 = (matriz[parseInt(i-1)][parseInt(j-a)]+b);
					alert("valor2= "+valor2);
				
					
					valor1 =  Math.round(Math.random()*9);
					valor2 =  Math.round(Math.random()*9);
					
					if(valor1>valor2){
						return valor1;
					}else{
						return valor2;
					}
				}
			}*/
		function insertar(){
			
			var tabla = document.getElementById("pesos");
			var tabla2 = document.getElementById("valor");
			var t = document.getElementById("art");
			var n= t.value;
			
			//Pesos
			for (i = 0; i < n; i++) {
			var nuevaFila = tabla.insertRow(-1);
            nombre = "w" + i ;
            var celda = nuevaFila;
            celdita = "<input type=\"text\" id="+"\"" + nombre + "\""+" size=3>\n";
            celda.innerHTML = celdita;
			}
			//Valores
			for (i = 0; i < n; i++) {
			var nuevaFila = tabla2.insertRow(-1);
            nombre = "v" + i ;
            var celda = nuevaFila;
            celdita = "<input type=\"text\" id="+"\"" + nombre + "\""+" size=3>\n";
            celda.innerHTML = celdita;
			}
		}
		
		function procesar(){
			
			var one = document.getElementById("primera");
		
			var p = document.getElementById("peso");
			var pe= p.value;
			var t = document.getElementById("art");
			var n= t.value;
			
			
			for (i = 0; i <=n; i++) {
			var nuevaFila = one.insertRow(-1);
			for (j = 0; j <=pe; j++) {
            nombre = "t" + i + j;
            var celda = nuevaFila.insertCell(-1);
            celdita = "<input type=\"text\" id="+"\"" + nombre + "\""+" size=3>\n";
            celda.innerHTML = celdita;
			}
			}
			
			//Creación de matrices 
			
			fila = parseInt(pe)+1;
			columna = parseInt(n)+1;
			//alert(fila)
			//alert(columna)
			matrizUno = new Array(pe);
			
			for(i=0;i<columna;i++){
				matrizUno[i] = new Array(fila);
			}
			
			arrayW= new Array(n);
			arrayV= new Array(n);
			
			//obteniendo los valores de pesos y valores 
			for(i=0;i<n;i++){
				var d = document.getElementById("w"+i);
				var w = d.value;
				
				var q = document.getElementById("v"+i);
				var v = q.value;
				
				arrayW[i] = w;
				arrayV[i] = v;
				
				//console.log(arrayW);
				//console.log(arrayV);
			}
			
			//Inicializando las primeras posiciones en cero
			for(i=0;i<columna;i++){
				for(j=0;j<1;j++){
					matrizUno[i][j] = 0;
				}	
			}
			for(i=0;i<1;i++){
				for(j=0;j<fila;j++){
					matrizUno[i][j] = 0;
				}	
			}
			console.log(matrizUno);
			
				for(i=1;i<columna;i++){
				for(j=1;j<fila;j++){
					matrizUno[i][j] = maximizar(arrayW,arrayV,matrizUno);
				}
			}	
		}
		
		function maximizar(arr1,arr2,matriz){
			
			var p = document.getElementById("peso");
			var pe= p.value;
			var t = document.getElementById("art");
			var n= t.value;
			
			fila = parseInt(pe)+1;
			columna = parseInt(n)+1;
			
			for(i=1;i<columna;i++){
				for(j=1;j<fila;j++){
					
					if(matriz[parseInt(i-1)][j] > matriz[parseInt(i-1)][j-arr1[parseInt(i-1)]]){
						  matriz[parseInt(i-1)][j];
					}else{
						 matriz[parseInt(i-1)][j-arr1[parseInt(i-1)]];
					}		
				}
			}
			
		
	}
	
	</script>
<body>
<h3>ALGORITMO DE LA MOCHILA</h3>

<p>INGRESE EL PESO LIMITE:
	<input type="text" id="peso">
</p>
<p>INGRESE EL NÚMERO DE ARTÍCULOS
	<input type="text" id="art">
</p>
	<input type="button" onclick="insertar()" value="ABRIR CAMPOS">
	<div id = "tabla"></div> 
	<div id = "tabla2"></div> 
	</br>
	<table id= "grande" border= "2">
	<td>
		Pesos:
	<table id="pesos" border="1"></table>
	</td>
	<td>
		Valor:
	<table id="valor" border="1"></table>
	</td>
	</table>
	
	</br>
	<input type="button" onclick="procesar()" value="PROCESAR">
	<!-- Primera Matriz -->
	<div id = "primeraMatriz"></div> 
	<table id="primera" border="1"></table>

</body>
</html>

	
			
